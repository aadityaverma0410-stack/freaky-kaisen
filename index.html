<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jujutsu High | Gojo Archive</title>

<script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-storage-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>

<style>
:root{
--bg-color:#050505;
--text-color:#e0e0e0;
--accent-purple:#9d4edd;
--terminal-green:#00ff41;
--gojo-blue:#00d4ff;
--black-flash:#ff003c;
}

body,html{
margin:0;padding:0;width:100%;height:100%;
background:var(--bg-color);
color:var(--text-color);
font-family:'Courier New',monospace;
overflow-x:hidden;
transition:.3s;
}

.negative-effect{filter:invert(1) hue-rotate(180deg);}

#video-overlay{
position:fixed;top:0;left:0;width:100%;height:100%;
z-index:10000;display:none;background:black;
}

#domain-video{width:100%;height:100%;object-fit:cover;}

#six-eyes-trail{
position:fixed;top:0;left:0;width:100%;height:100%;
pointer-events:none;z-index:9000;
}

.energy-particle{
position:absolute;width:10px;height:10px;
background:var(--gojo-blue);
border-radius:50%;
box-shadow:0 0 15px var(--gojo-blue);
transition:transform .4s ease,opacity .4s ease;
}

#main-content{
display:none;
padding:15px 15px 280px 15px;
background:linear-gradient(rgba(0,0,0,.8),rgba(0,0,0,.8)),url('1000101960.jpg');
background-size:cover;
background-position:center;
background-attachment:fixed;
min-height:100vh;
}

.module-box{
border:1px solid var(--accent-purple);
padding:15px;margin:20px 0;
background:rgba(0,0,0,.85);
text-align:center;
border-radius:8px;
box-shadow:0 0 10px rgba(157,78,221,.2);
}

.mission-archive,#community-grid{
display:grid;
grid-template-columns:1fr 1fr;
gap:10px;margin-top:20px;
}

.mission-photo,.community-photo{
width:100%;
border-radius:4px;
border:1px solid var(--accent-purple);
aspect-ratio:1/1;
object-fit:cover;
filter:blur(5px) grayscale(1);
transition:.3s;
}

.mission-photo:hover,.community-photo:hover{
filter:blur(0) grayscale(0);
border-color:var(--gojo-blue);
}

.music-player{
position:fixed;bottom:0;left:0;width:100%;
background:rgba(5,5,5,.98);
border-top:2px solid var(--accent-purple);
padding:20px 0;text-align:center;
z-index:100;
display:flex;justify-content:center;flex-wrap:wrap;gap:10px;
}

.music-btn{
background:rgba(157,78,221,.1);
border:1px solid var(--accent-purple);
color:#fff;padding:12px 18px;
cursor:pointer;font-size:.75rem;
font-weight:bold;text-transform:uppercase;
border-radius:6px;
box-shadow:0 0 8px rgba(157,78,221,.4);
transition:.3s;
}

.music-btn:hover{
background:var(--accent-purple);
box-shadow:0 0 15px var(--accent-purple);
transform:translateY(-2px);
}

#bf-target{
position:fixed;top:50%;left:50%;
transform:translate(-50%,-50%);
border-radius:50%;
border:4px solid var(--black-flash);
background:rgba(255,0,60,.3);
animation:growCircle 1.2s forwards;
cursor:crosshair;z-index:20000;display:none;
}

@keyframes growCircle{
0%{width:10px;height:10px;opacity:1;}
100%{width:300px;height:300px;opacity:0;}
}

.shake-active{animation:blackFlashStrike .2s linear 2;}

@keyframes blackFlashStrike{
0%{transform:translate(0,0);}
25%{transform:translate(-20px,20px);}
50%{transform:translate(20px,-20px);}
75%{transform:translate(-20px,-20px);}
100%{transform:translate(0,0);}
}

.falling-emoji{
position:fixed;top:-50px;
font-size:2.5rem;z-index:15000;
transition:transform 2s linear;
}
</style>
</head>

<body id="main-body" onmousemove="createTrail(event)" ontouchmove="createTrail(event.touches[0])">

<div id="video-overlay">
<video id="domain-video" src="domain_expansion.mp4"></video>
</div>

<div id="six-eyes-trail"></div>
<div id="bf-target" onclick="checkBlackFlashHit()"></div>

<!-- INTRO SCREEN -->
<div id="intro-screen" style="position:fixed;width:100%;height:100%;background:black;z-index:11000;display:flex;flex-direction:column;justify-content:center;align-items:center;">

<input id="player-name" placeholder="Enter Sorcerer Name"
style="margin-bottom:15px;padding:10px;background:black;border:1px solid var(--gojo-blue);color:white;text-align:center;border-radius:6px;">

<select id="character-select"
style="margin-bottom:20px;padding:10px;background:black;border:1px solid var(--accent-purple);color:white;text-align:center;border-radius:6px;">
<option>Gojo</option>
<option>Sukuna</option>
<option>Itadori</option>
<option>Megumi</option>
<option>Yuta</option>
<option>Toji</option>
</select>

<button class="music-btn"
style="font-size:1.5rem;border-color:var(--gojo-blue);box-shadow:0 0 15px var(--gojo-blue);"
onclick="startDomain()">INTERESTED</button>

<button id="not-btn" class="music-btn"
style="margin-top:20px;border-color:gray;color:gray;box-shadow:none;"
onclick="notInterested(this)">NOT INTERESTED</button>

</div>

<div id="main-content">

<div class="module-box">
<img src="Snapchat-1445956652.jpg"
style="width:120px;height:120px;border-radius:50%;border:3px solid var(--accent-purple);object-fit:cover;">
<h1 id="player-title">SORCERER: TANISH</h1>
<p id="timer" style="color:var(--terminal-green);font-weight:bold;">SYNCHRONIZING...</p>
</div>

<div id="hidden-archive" style="display:none;">
<div class="module-box">
<h3>MISSION ARCHIVE</h3>
<div class="mission-archive">
<img src="IMG_20251217_161226926.jpg" class="mission-photo">
<img src="IMG_20251018_174718968.jpg" class="mission-photo">
<img src="IMG-20251018-WA0075.jpg" class="mission-photo">
<img src="IMG-20251018-WA0061.jpg" class="mission-photo">
<img src="IMG_20251217_154353312_HDR.jpg" class="mission-photo">
<img src="IMG-20251217-WA0338.jpg" class="mission-photo">
<img src="IMG-20251218-WA0395.jpg" class="mission-photo">
<img src="IMG_20260214_124036_873.jpg" class="mission-photo">
<img src="IMG_20260217_114544_290.jpg" class="mission-photo">
<img src="IMG-20260216-WA0043.jpg" class="mission-photo">
<img src="IMG-20260217-WA0054.jpg" class="mission-photo">
</div>
</div>

<div class="module-box" style="border-color:var(--gojo-blue);">
<h3>COMMUNITY MEMORIES üåÄ</h3>
<input type="file" id="up" style="display:none;" onchange="upload(this)">
<button class="music-btn" style="border-color:var(--gojo-blue);" onclick="document.getElementById('up').click()">UPLOAD MEMORY</button>
<div id="upload-status" style="font-size:.6rem;margin-top:10px;"></div>
<div id="community-grid"></div>
</div>
</div>

<div class="music-player">
<button class="music-btn" style="border-color:var(--black-flash);" onclick="startBlackFlashGame()">BLACK FLASH ‚ö°</button>
<button class="music-btn" onclick="playDV()">GOJO VS SUKUNA ü§û</button>
<button class="music-btn" onclick="nextTrack()">NEXT TRACK ‚è©</button>
</div>

</div>

<audio id="bg-music" loop src="Lady Gaga - Judas - GOJO VS SUKUNA.mp3"></audio>

<script>
const firebaseConfig={
apiKey:"AIzaSyBxJd_atjhj9OqZCqjvWe_35EJH",
authDomain:"gojo-archive.firebaseapp.com",
projectId:"gojo-archive",
storageBucket:"gojo-archive.firebasestorage.app",
messagingSenderId:"83853315706",
appId:"1:83853315706:web:d881046437197a5c6d36e2"
};
firebase.initializeApp(firebaseConfig);
const storage=firebase.storage();
const db=firebase.firestore();
const auth=firebase.auth();

let currentUser="Unknown";
let currentCharacter="Gojo";
let currentRank=4;

auth.signInAnonymously();

function startDomain(){
const name=document.getElementById("player-name").value.trim();
const char=document.getElementById("character-select").value;

if(name!=="") currentUser=name;
currentCharacter=char;

document.getElementById("player-title").innerText=
"SORCERER: "+currentUser+" | "+currentCharacter+" | Grade "+currentRank;

document.getElementById("intro-screen").style.display="none";
document.getElementById("main-content").style.display="block";
document.getElementById("bg-music").play();

strongEffect();
loadMemoriesRealtime();
setInterval(updateClock,1000);
}

function strongEffect(){
const msg=document.createElement("div");
msg.innerText="You're Strong üòà";
msg.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--gojo-blue);font-size:3rem;font-weight:bold;z-index:20000;";
document.body.appendChild(msg);
setTimeout(()=>msg.remove(),1000);

for(let i=0;i<15;i++){
const e=document.createElement("div");
e.className="falling-emoji";
e.innerText="üòà";
e.style.left=Math.random()*100+"vw";
document.body.appendChild(e);
setTimeout(()=>e.style.transform=`translateY(${window.innerHeight+100}px)`,50);
setTimeout(()=>e.remove(),2500);
}
}

let shrinkScale=1;
function notInterested(btn){
shrinkScale-=.2;
btn.style.transform=`scale(${shrinkScale})`;

const msg=document.createElement("div");
msg.innerText="You're weak üòî";
msg.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);color:red;font-size:3rem;font-weight:bold;z-index:20000;";
document.body.appendChild(msg);
setTimeout(()=>msg.remove(),1000);

for(let i=0;i<15;i++){
const e=document.createElement("div");
e.className="falling-emoji";
e.innerText="üòî";
e.style.left=Math.random()*100+"vw";
document.body.appendChild(e);
setTimeout(()=>e.style.transform=`translateY(${window.innerHeight+100}px)`,50);
setTimeout(()=>e.remove(),2500);
}
}

function updateClock(){
const dest=new Date("July 12, 2026").getTime();
const now=new Date().getTime();
const diff=dest-now;
document.getElementById("timer").innerText=
diff>0?Math.floor(diff/(1000*60*60*24))+" days until Unsealing":"THE ARCHIVE IS UNSEALED";
}

async function upload(input){
const file=input.files[0];
if(!file) return;

const ref=storage.ref("memories/"+Date.now());
await ref.put(file);
const url=await ref.getDownloadURL();

await db.collection("memories").add({
url:url,
time:Date.now(),
name:currentUser,
character:currentCharacter,
rank:currentRank
});

if(currentRank>1) currentRank--;
}

function loadMemoriesRealtime(){
db.collection("memories")
.orderBy("time","desc")
.onSnapshot(snap=>{
const grid=document.getElementById("community-grid");
grid.innerHTML="";
snap.forEach((doc,index)=>{
const d=doc.data();
const wrap=document.createElement("div");
wrap.style.textAlign="center";

const title=document.createElement("div");
title.innerHTML=`<small>${d.name} | ${d.character} | Grade ${d.rank}</small>`;

const img=document.createElement("img");
img.src=d.url;
img.className="community-photo";

if(index===0){
img.style.border="2px solid var(--gojo-blue)";
img.style.boxShadow="0 0 15px var(--gojo-blue)";
}

wrap.appendChild(title);
wrap.appendChild(img);
grid.appendChild(wrap);
});
});
}

function createTrail(e){
const p=document.createElement("div");
p.className="energy-particle";
p.style.left=e.clientX+"px";
p.style.top=e.clientY+"px";
document.getElementById("six-eyes-trail").appendChild(p);
setTimeout(()=>{p.style.transform="scale(0)";p.style.opacity="0";},50);
setTimeout(()=>p.remove(),500);
}

function startBlackFlashGame(){
const t=document.getElementById("bf-target");
t.style.display="block";
setTimeout(()=>t.style.display="none",1200);
}

function checkBlackFlashHit(){
document.body.classList.add("negative-effect","shake-active");
setTimeout(()=>document.body.classList.remove("negative-effect","shake-active"),1000);
}

function nextTrack(){
const player=document.getElementById("bg-music");
player.play();
}

function playDV(){
const ov=document.getElementById("video-overlay");
const vid=document.getElementById("domain-video");
const aud=document.getElementById("bg-music");
aud.pause();
ov.style.display="block";
vid.play();
vid.onended=()=>{ov.style.display="none";aud.play();};
}
</script>
</body>
</html>
