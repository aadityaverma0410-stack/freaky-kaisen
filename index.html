<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Gojo Archive</title>
<style>
body{
  margin:0;
  font-family: monospace;
  background:url("https://images.alphacoders.com/131/1319211.jpeg") no-repeat center center fixed;
  background-size:cover;
  color:white;
  background-color:black;
}

.section{
  border:1px solid purple;
  margin:20px;
  padding:20px;
  border-radius:10px;
  background:rgba(0,0,0,0.8);
}

button{
  padding:8px 15px;
  background:black;
  border:1px solid violet;
  color:white;
  margin:5px;
  cursor:pointer;
}

button:hover{
  background:purple;
}

#intro{
  position:fixed;
  width:100%;
  height:100%;
  background:black;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:1000;
  transition:all 0.5s ease;
}

#intro.shrink{
  transform:scale(0);
  opacity:0;
}
img{
  width:200px;
  border:2px solid cyan;
  margin:10px;
}
.highlight{
  border:4px solid red;
}
#chatBox{
  height:200px;
  overflow-y:auto;
  border:1px solid cyan;
  padding:10px;
}
</style>
</head>

<body>

<!-- INTEREST SCREEN -->
<div id="intro">
  <h1>Are You Interested In The Gojo Archive?</h1>
  <button onclick="enterSite()">Interested</button>
  <button onclick="exitSite()">Not Interested</button>
</div>

<div class="section">
  <h2>Sorcerer Control</h2>
  <p>No login required.</p>
</div>

<div class="section">
  <h2>Visitor Count</h2>
  <p id="visitorCount">Loading...</p>
</div>

<div class="section">
  <h2>Global Chat</h2>
  <div id="chatBox"></div>
  <input id="chatInput" placeholder="Type message">
  <button onclick="sendMessage()">Send</button>
</div>

<div class="section">
  <h2>Vote System</h2>
  <button onclick="vote('interested')">Interested</button>
  <button onclick="vote('not')">Not Interested</button>
  <p id="voteResult"></p>
</div>

<div class="section">
  <h2>Photo Gallery</h2>
  <img src="IMG_20250108_140751.jpg">
  <img src="IMG_20250108_140751.jpg" class="highlight">
</div>

<div class="section">
  <button onclick="battle()">Gojo vs Sukuna</button>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc, updateDoc, onSnapshot, collection, addDoc, increment } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "gojo-archive.firebaseapp.com",
  projectId: "gojo-archive",
  storageBucket: "gojo-archive.appspot.com",
  messagingSenderId: "83853315706",
  appId: "1:83853315706:web:1dd9d9d9f035a2ba3275c3"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const visitorRef = doc(db,"stats","visits");

async function updateVisitor(){
  const snap = await getDoc(visitorRef);
  if(snap.exists()){
    await updateDoc(visitorRef,{count:increment(1)});
    document.getElementById("visitorCount").innerText = snap.data().count + 1;
  }else{
    await setDoc(visitorRef,{count:1});
    document.getElementById("visitorCount").innerText = 1;
  }
}
updateVisitor();

function sendMessage(){
  const msg = document.getElementById("chatInput").value;
  if(msg!=""){
    addDoc(collection(db,"chat"),{text:msg});
    document.getElementById("chatInput").value="";
  }
}
window.sendMessage=sendMessage;

onSnapshot(collection(db,"chat"),(snapshot)=>{
  let html="";
  snapshot.forEach(doc=>{
    html += "<p>"+doc.data().text+"</p>";
  });
  document.getElementById("chatBox").innerHTML=html;
});

async function vote(type){
  const voteRef = doc(db,"stats","votes");
  const snap = await getDoc(voteRef);
  if(!snap.exists()){
    await setDoc(voteRef,{interested:0,not:0});
  }
  await updateDoc(voteRef,{[type]:increment(1)});
}
window.vote=vote;

function battle(){
  alert("Gojo Wins ðŸ˜ˆ");
}
window.battle=battle;

function enterSite(){
  document.getElementById("intro").classList.add("shrink");
}
window.enterSite=enterSite;

function exitSite(){
  document.getElementById("intro").innerHTML="<h1>Then Leave ðŸ˜Œ</h1>";
}
window.exitSite=exitSite;

</script>

</body>
</html>
